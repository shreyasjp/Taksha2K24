<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta id="viewport" name="viewport"
        content="width=device-width, initial-scale=1, minimum-scale=1, viewport-fit=cover" />
    <script type="text/javascript" src="Data/Libraries/jQuery.js"></script>
    <link rel="preload" href="Data/Fonts/Montserrat Regular 400.ttf" as="font" type="font/ttf" crossorigin />
    <link rel="preload" href="Data/Fonts/Montserrat Italic 400.ttf" as="font" type="font/ttf" crossorigin />
    <link rel="preload" href="Data/Fonts/Montserrat Bold 700.ttf" as="font" type="font/ttf" crossorigin />
    <link rel="preload" href="Data/Fonts/Montserrat Black 900.ttf" as="font" type="font/ttf" crossorigin />
    <link rel="preload" href="Data/Fonts/Montserrat Thin 250.ttf" as="font" type="font/ttf" crossorigin />
    <link rel="preload" href="Data/Fonts/The Youngest Serif.ttf" as="font" type="font/ttf" crossorigin />
    <link rel="preload" href="Data/Fonts/Estrand 400.otf" as="font" type="font/otf" crossorigin />
    <link rel="preload" as="image" href="Data/Animations/SpinnerMedium.svg" />
    <link rel="preload" as="image" href="Data/Animations/SpinnerSmall.svg" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="Design/Colors.css" />    
    <link rel="stylesheet" type="text/css" href="Design/Fonts.css" />
    <link rel="stylesheet" type="text/css" href="Design/NavBar.css" />
    <link rel="stylesheet" type="text/css" href="Design/Home.css" />
    <link rel="stylesheet" type="text/css" href="Design/Countdown.css" />
    <link rel="stylesheet" type="text/css" href="Design/Register.css" />
    <title>Taksha'24 - Register</title>
    <link rel="apple-touch-icon" sizes="180x180" href="Data/Favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="Data/Favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="Data/Favicon/favicon-16x16.png">
    <link rel="manifest" href="Data/Favicon/site.webmanifest">
    <link rel="mask-icon" href="Data/Favicon/safari-pinned-tab.svg" color="#000000">
    <link rel="shortcut icon" href="Data/Favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="msapplication-config" content="Data/Favicon/browserconfig.xml">
    <meta name="theme-color" content="#000000">
</head>
<body>
    <h1></h1>
    <p></p>
    <form id="myForm" action="https://script.google.com/macros/s/AKfycbwtoAn62jkZKJHzgokj7E_DB9qnunjiln5GKWpahHu3g3MJPpzpbQ3xmCRMOYfOL1vE/exec">
        <div class="input-bx">
            <input type="text" name="college" required="required" />
            <span>Name of College</span>
        </div>
        <div class="input-bx">
            <input type="text" name="name" required="required" />
            <span>Name</span>
        </div>
        <div class="input-bx">
            <input type="text" name="contactNumber" required="required" />
            <span>Contact Number</span>
        </div>
        <!-- Additional input box for 'ONE PIECE' -->
        <div class="input-bx" id="extraInputBox" style="display: none;">
            <input type="text" name="member1" required="required" />
            <span>Name of Member 1</span>
        </div>
        
        <div class="input-bx" id="xtraInputBox" style="display: none;">
            <input type="text" name="member2" required="required" />
            <span>Name of Member 2</span>
        </div>
        <div class="input-bx" id="traInputBox" style="display: none;">
            <input type="text" name="member3" required="required" />
            <span>Name of Member 3</span>
        </div>
        <div class="input-bx">
            <input type="submit">
        </div>
    </form>
    

    <script>
        
        
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        var detailValue = getParameterByName('detail');

        // Update the h1 element based on detailValue
        if(detailValue == 'op') {
            document.querySelector('h1').innerHTML = 'ONE PIECE';
            document.querySelector('p').innerHTML = 'TREASURE HUNTING EVENT';
            // Show the additional input box for 'ONE PIECE'
            document.getElementById('extraInputBox').style.display = 'block';
            document.getElementById('xtraInputBox').style.display = 'block';
            document.getElementById('traInputBox').style.display = 'block';
        }
        else if(detailValue == 'tt') {
            document.querySelector('h1').innerHTML = 'TWIST N TURN';
            document.querySelector('p').innerHTML = 'SPEED CUBING EVENT';
        }
        else if(detailValue == 'tq') {
            document.querySelector('h1').innerHTML = 'THINK QUAKE';
            document.querySelector('p').innerHTML = 'IDEA PITCHING EVENT';
            document.getElementById('extraInputBox').style.display = 'block';
            document.getElementById('xtraInputBox').style.display = 'block';
        }
        else if(detailValue == 'ct') {
            document.querySelector('h1').innerHTML = 'CREATRIX';
            document.querySelector('p').innerHTML = 'WEB DESIGNING EVENT';
            document.getElementById('extraInputBox').style.display = 'block';
        }
        else if(detailValue == 'll') {
            document.querySelector('h1').innerHTML = 'LETHAL LEGION';
            document.querySelector('p').innerHTML = 'E-SPORTS COMPETITION';
            document.getElementById('extraInputBox').style.display = 'block';
            document.getElementById('xtraInputBox').style.display = 'block';
            document.getElementById('traInputBox').style.display = 'block';
        }
        else if(detailValue == 'bb') {
            document.querySelector('h1').innerHTML = 'BUGBOUNTY';
            document.querySelector('p').innerHTML = 'DEBUGGING CONTEST';
        }
        document.getElementById('myForm').addEventListener('submit', function(event) {
        event.preventDefault();

        var formData = new FormData(this);

        fetch('https://script.google.com/macros/s/AKfycbwtoAn62jkZKJHzgokj7E_DB9qnunjiln5GKWpahHu3g3MJPpzpbQ3xmCRMOYfOL1vE/exec', {
            method: 'POST',
            body: formData
        }).then(response => {
            if (response.ok) {
                console.log('Form submitted successfully.');
                // You can add further actions here if needed.
            } else {
                console.error('Error submitting form.');
            }
        }).catch(error => {
            console.error('Error during form submission:', error);
        });
    });
    </script>
</body>
</html>
